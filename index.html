<!DOCTYPE html>
<html>
<head>
	<title>JSON Song List</title>
	<link rel="stylesheet" href="style.css">
	<script language="javascript" type="text/javascript" src="playlist.json"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Fredoka+One&display=swap" rel="stylesheet">
</head>

<style>
body {
  background-color: #bbdefb;
  display: block;
  text-align: center;
  font-family: 'Fredoka One', cursive;
  color: #f72585;
}
</style>

<body>
	<h1>Assignment 9: The Coming of Age Song List</h1>
	<h3>Choose a genre from the set list</h3>

<!-- dropdown menu for genres -->
    <select name="genres" id="genres_picker">
		<option value="Alternative">Alternative</option>
		<option value="Indie">Indie</option>
        <option value="Pop">Pop</option>
        <option value="Rock">Rock</option>
        <option value="Hip-Hop">Hip-Hop</option>
        <option value="Rap">Rap</option>
		<option value="Country">Country</option>
    </select>

    <button id="submit_genre">Submit</button>
	<br></br>
    <div id="playlist"></div>


	<script language="javascript">
		var songPlaylist, singleSong, genre, song;

		//get the songs from the JSON file and parse it into a string
		songPlaylist = JSON.stringify(playlist);
		singleSong = JSON.parse(songPlaylist);

		//display the JSON in a nice format
		for (var i = 0; i < 10; i++) {
			song = singleSong[i];
			document.getElementById("playlist").innerHTML += "Song: " + song.name + "<br>";
			document.getElementById("playlist").innerHTML += "Artist(s): " + song.artist + "<br>";
			document.getElementById("playlist").innerHTML += "Genre(s): " + song.genre + "<br>";
			document.getElementById("playlist").innerHTML += "Year: " + song.year + "<br><br><br>";
		}

		//check which of the genres were selected
		$(document).ready(function() {
			$('button').click(function() {
				//sort through all the genres
				if ($('select[id="genres_picker"] option:selected').index() == 0)
				{
					genre = "Alternative";
				}
				else if ($('select[id="genres_picker"] option:selected').index() == 1)
				{
					genre = "Indie";
				}
				else if ($('select[id="genres_picker"] option:selected').index() == 2)
				{
					genre = "Pop";
				}
				else if ($('select[id="genres_picker"] option:selected').index() == 3)
				{
					genre = "Rock";
				}
				else if ($('select[id="genres_picker"] option:selected').index() == 4)
				{
					genre = "Hip-Hop";
				}
				else if ($('select[id="genres_picker"] option:selected').index() == 5)
				{
					genre = "Rap";
				}
				else if ($('select[id="genres_picker"] option:selected').index() == 6)
				{
					genre = "Country";
				}

				//clear the div and reset it !
				document.getElementById("playlist").innerHTML = "";
				//Print song names
				for (i = 0; i < 10; i++) {
					song = singleSong[i];
					if (song.genre[0] == genre || song.genre[1] == genre) {
						document.getElementById("playlist").innerHTML += "Song Name: " + song.name + "<br>";
						document.getElementById("playlist").innerHTML += "Artist(s): " + song.artist + "<br>";
						document.getElementById("playlist").innerHTML += "Genre(s): " + song.genre + "<br>";
						document.getElementById("playlist").innerHTML += "Year: " + song.year + "<br><br><br>";

					}
				}
			})
		})
	</script>

</body>
