<!DOCTYPE html>
<html>
<head>
	<title>JSON Song List</title>
	<link rel="stylesheet" href="style.css">
	<script language="javascript" type="text/javascript" src="playlist.json"></script>
	<script src="https://code.jquery.com/jquery-3.6.0.slim.min.js" integrity="sha256-u7e5khyithlIdTpu22PHhENmPcRdFiHRjhAuHcs05RI=" crossorigin="anonymous"></script>

</head>

<body>
	<h1> Assignment 9: The Coming of Age Song List </h1>
	<h3> Here is a playlist dedicated to the coming of age arc in our lives... </h3>

	<h3>Choose a genre from the set list</h3>

<!-- dropdown menu for genres -->
    <select name="genres" id="genres_picker">
		<option value="Alternative">Alternative</option>
		<option value="Indie">Indie</option>
        <option value="Pop">Pop</option>
        <option value="Rock">Rock</option>
        <option value="Hip-Hop">Hip-Hop</option>
        <option value="Rap">Rap</option>
		<option value="Country">Country</option>
    </select>

    <button id="submit_genre">Submit</button>
    <div id="playlist"></div>


	<script language="javascript">
		var songPlaylist, singleSong, genre;

		//get the songs from the JSON file and parse it into a string
		songPlaylist = JSON.stringify(playlist);
		singleSong = JSON.parse(songPlaylist);

		//to write onto page:
		document.write("playlist").innerHTML += "Playlist: " + "<br><br>";
		for (var i = 0; i < 10; i++) {
			// singleSong = songPlaylist[i];

			document.write("Song Name: " + singleSong.name + "<br>");
			document.write("Artist(s): " + singleSong.artist + "<br>");
			document.write("Genre(s): " + singleSong.genre + "<br>");
			document.write("Year: " + singleSong.year + "<br>");
		}

		//check which of the genres were selected
		$(document).ready(function() {
			$('button').click(function() {
				document.getElementById("playlist").innerHTML = "";

				if ($('select[name="genres"] option:selected').index() == 0)
				{
					genre = "Alternative";
				}
				else if ($('select[name="genres"] option:selected').index() == 1)
				{
					genre = "Indie";
				}
				else if ($('select[name="genres"] option:selected').index() == 2)
				{
					genre = "Pop";
				}
				else if ($('select[name="genres"] option:selected').index() == 3)
				{
					genre = "Rock";
				}
				else if ($('select[name="genres"] option:selected').index() == 4)
				{
					genre = "Hip-Hop";
				}
				else if ($('select[name="genres"] option:selected').index() == 5)
				{
					genre = "Rap";
				}
				else if ($('select[name="genres"] option:selected').index() == 6)
				{
					genre = "Country";
				}


				//Print song names
				for (i = 0; i < 10; i++) {
					document.getElementById("playlist").innerHTML += songPlaylist[i].name + "<br>";
				}
			})
		})
	</script>

</body>
